<h2 class="text-xl font-bold mb-4">Mi Perfil</h2>

<img 
  src="{{avatarUrl}}" 
  alt="Avatar" 
  class="w-24 h-24 rounded-full border mb-4"
/>

<form id="profilePicForm" enctype="multipart/form-data">
  <input type="file" name="picture" class="block mb-2" />
  <button class="px-4 py-2 bg-blue-600 text-white rounded">Actualizar foto</button>
</form>

<script>
  const form = document.getElementById("profilePicForm");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = new FormData(form);

    const res = await fetch("/users/profile-picture", {
      method: "POST",
      headers: { Authorization: "Bearer " + localStorage.getItem("taskflow_token") },
      body: formData
    });

    const data = await res.json();
    alert(data.message);
  });
</script>
